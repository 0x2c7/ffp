<script>
$(document).ready(function() {
  App.cable.subscriptions.create(
    {
      channel: "ApplicationCable::OnlineChannel",
      user_id: "<%= current_user.id %>"
    },
    {
      received: function(data) {
        console.log(data);
        $('#updateSidebar').click();
      }
    }
  );

  setInterval(function(){
    $('#updateSidebar').click();
    $('#ping').click();
  }, 30000);

  setInterval(function(){
    $('#ping').click();
  }, 10000);
});
</script>
